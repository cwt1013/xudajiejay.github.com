<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<canvas id ="canvas" width="400" height="600"></canvas>
<button id="kongge "></button>

<body>
<script>
    var canvas =document.getElementById("canvas").getContext('2d');
    var bjt =new Image();
    bjt.src = "img/bg.png";
    var  diimg = new Image();
    diimg.src ="img/ground.png";

    var img =new Image();
    img.src ="img/pipe.png";
    var downPipeX = 400;
    var upPipeX =400;
    var arr =["img/0.gif","img/1.gif","img/2.gif"];
    var i =0;
    var v1 =1;
    var a =0.98;
    var v2 ;
    var  xnY =200 ;
    var downPipeY;
    var Len;
    var juli;


    var time   =   setInterval(function() {
        downPipeX = downPipeX - 1;
        upPipeX = upPipeX - 1;


                if (downPipeX == -100) {
                    downPipeX = 500;

                }








        if (upPipeX == -100) {
            upPipeX = 500;
        }
        i++;
        i = i % 3;
        var xnt = new Image();
        xnt.src = arr[i];
        v2 =v1 + a;
        xnY =xnY+(v1+v2)/2;

        window.onkeydown = function(event){
            var e = event ||window.event;
            if(e.keyCode == 32){
                xnY = xnY -50;



            }


        }
        if((upPipeX<165&&xnY<200)||(downPipeX<165&&xnY>300)||(xnY>460)){

            clearInterval(time);
//            canvas.fillStyle ="rgb(0,0,0)";
//            canvas.font = "40px";
//
//
//
//            canvas.fillText("Game over",200,300);


        }









        canvas.clearRect(0, 0, 400, 600);


        canvas.drawImage(bjt, 0, 0, 400, 600);


        canvas.drawImage(img,0,500,150,500,downPipeX,300,100,200);//downPipeY(300 -400)/
        canvas.drawImage(img,150,500,150,800,upPipeX,0,100,200);//0 --400


        canvas.drawImage(diimg,0,500,400,200);
        canvas.drawImage(xnt,150,xnY,40,40);


    },8)





</script>

</body>
</html>